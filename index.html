<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Website</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #ecf0f1;
      overflow-x: hidden;
      display: flex;
    }

    .sidebar {
      width: 240px;
      background-color: #1e272e;
      color: white;
      display: flex;
      flex-direction: column;
      padding-top: 20px;
      height: 100vh;
      transition: width 0.3s ease;
      position: fixed;
      z-index: 10;
      overflow: hidden;
    }

    .sidebar.collapsed {
      width: 60px;
    }

    .sidebar h2 {
      text-align: center;
      font-size: 22px;
      color: #f5f6fa;
      padding-bottom: 10px;
      border-bottom: 1px solid #485460;
      margin-bottom: 20px;
      transition: opacity 0.3s ease, height 0.3s ease;
    }

    .sidebar.collapsed h2 {
      opacity: 0;
      height: 0;
      overflow: hidden;
    }

    .sidebar button {
      background: none;
      border: none;
      color: #dcdde1;
      padding: 15px 20px;
      text-align: left;
      width: 100%;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
      white-space: nowrap;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .sidebar button:hover {
      background-color: #485460;
      color: #fff;
      padding-left: 30px;
    }

    .sidebar.collapsed .label {
      display: none;
    }

    .toggle-btn {
      background: none;
      border: none;
      color: #f5f6fa;
      font-size: 22px;
      padding: 10px 20px;
      text-align: left;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .main {
      margin-left: 240px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      transition: margin-left 0.3s ease;
      width: calc(100% - 240px);
    }

    .main.collapsed {
      margin-left: 60px;
      width: calc(100% - 60px);
    }

    .header {
      background-color: #f5f6fa;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .header h1 {
      font-size: 20px;
      color: #2f3640;
      transition: font-size 0.3s ease;
    }

    .settings-icon {
      font-size: 20px;
      cursor: pointer;
      border: none;
      background: none;
      color: #2f3640;
    }

    .content {
      padding: 20px;
    }

    .game-box {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }

    .game {
      display: none;
    }

    .game.active {
      display: block;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 100;
    }

    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .modal-content input {
      padding: 10px;
      width: 80%;
      margin-bottom: 15px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .modal-content button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #1e272e;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    @media screen and (max-width: 768px) {
      .sidebar {
        position: absolute;
        transform: translateX(-100%);
      }

      .sidebar.open {
        transform: translateX(0);
      }

      .main {
        margin-left: 0;
        width: 100%;
      }

      .main.collapsed {
        margin-left: 0;
      }
    }
  </style>
</head>
<body>

  <div class="sidebar" id="sidebar">
    <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞<span class="label"> Menu</span></button>
    <h2>Game Menu</h2>
    <button onclick="showGame('game-tictactoe')">üéØ<span class="label"> Tic Tac Toe</span></button>
    <button onclick="showGame('game-memory')">üß†<span class="label"> Memory Game</span></button>
    <button onclick="showGame('game-snake')">üêç<span class="label"> Snake</span></button>
    <button onclick="showGame('game-2048')">üî¢<span class="label"> 2048</span></button>
  </div>

  <div class="main" id="main">
    <div class="header">
      <button class="settings-icon" onclick="toggleSettings()">‚öôÔ∏è</button>
      <h1 id="welcome-text">Welcome, User!</h1>
    </div>
    <div class="content">
      <div class="game-box">

        <!-- Game Containers -->
        <div class="game active" id="game-default">
          <h2>Select a game from the menu to begin!</h2>
        </div>

        <div class="game" id="game-tictactoe">
          <h2>Tic Tac Toe</h2>
          <p>Your game code goes here.</p>
        </div>

        <div class="game" id="game-memory">
          <h2>Memory Game</h2>
          <p>Your game code goes here.</p>
        </div>

        <div class="game" id="game-snake">
          <h2>Snake</h2>
          <p>Your game code goes here.</p>
        </div>

        <div class="game" id="game-2048">
          <style>


    .score-container {
      display: flex;
      gap: 20px;
      margin-bottom: 10px;
    }

    .score, .high-score {
      background: #bbada0;
      padding: 10px 20px;
      border-radius: 5px;
      color: #fff;
      font-weight: bold;
    }

    .controls {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .controls button {
      padding: 10px 15px;
      font-size: 1em;
      border: none;
      border-radius: 5px;
      background: #8f7a66;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }

    .controls button:hover {
      background: #9f8b76;
    }

    .board {
      position: relative;
      width: 90vmin;
      height: 90vmin;
      max-width: 500px;
      max-height: 500px;
      background: #bbada0;
      border-radius: 10px;
      padding: 10px;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(4, 1fr);
      gap: 10px;
      touch-action: none;
      transition: transform 0.3s ease;
    }

    .cell {
      background: #cdc1b4;
      border-radius: 5px;
    }

    .tile {
      position: absolute;
      width: calc((100% - 50px) / 4);
      height: calc((100% - 50px) / 4);
      border-radius: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 2em;
      color: #776e65;
      transition: transform 0.15s ease, top 0.15s ease, left 0.15s ease;
    }

    .new-tile {
      animation: pop 0.2s ease;
    }

    @keyframes pop {
      0% { transform: scale(0); }
      100% { transform: scale(1); }
    }

    /* Tile colors */
    .val-2 { background: #eee4da; }
    .val-4 { background: #ede0c8; }
    .val-8 { background: #f2b179; color: white; }
    .val-16 { background: #f59563; color: white; }
    .val-32 { background: #f67c5f; color: white; }
    .val-64 { background: #f65e3b; color: white; }
    .val-128 { background: #edcf72; color: white; }
    .val-256 { background: #edcc61; color: white; }
    .val-512 { background: #edc850; color: white; }
    .val-1024 { background: #edc53f; color: white; }
    .val-2048 { background: #edc22e; color: white; }

    .how-to-play {
      max-width: 600px;
      margin-top: 40px;
      padding: 20px;
      background: #f9f6f2;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .how-to-play h2 {
      margin-top: 0;
      color: #776e65;
    }

    .how-to-play p {
      color: #776e65;
      line-height: 1.5;
    }
      .how-to-play li{
    color: #776e65;
      line-height: 1.5;
      }
  </style>
  <h1>2048 Game</h1>
  <div class="score-container">
    <div class="score">Score: <span id="score">0</span></div>
    <div class="high-score">High Score: <span id="high-score">0</span></div>
  </div>
  <div class="controls">
    <button id="undo-btn">Undo</button>
    <button id="rotate-btn">Rotate Board</button>
    <button id="restart-btn">Restart</button>
  </div>
  <div class="board" id="board"></div>

  <div class="how-to-play">
    <h2>How to Play</h2>
    <p>Use your arrow keys (on desktop) or swipe (on mobile) to move the tiles. When two tiles with the same number touch, they merge into one! Your goal is to create a tile with the number 2048.</p>
  </div>
    <div class="how-to-play">
    <h2>Tips &amp; Tricks</h2>
    <ul>
      <li>&#10003; Keep your highest tile in a corner.</li>
      <li>&cross; Plan ahead to avoid blocking moves.</li>
      <li>&#9632; Focus on combining smaller tiles first.</li>
      <li>&crarr; Use the undo feature wisely.</li>
        <li>&swarr; Rotate the board to gain new perspectives</li>
        </ul>
    </div>



  <script>
    const board = document.getElementById("board");
    const size = 4;
    let tiles = [];
    let tileElements = [];
    let score = 0;
    let highScore = localStorage.getItem('highScore') || 0;
    let previousState = null;
    let rotation = 0;

    const scoreDisplay = document.getElementById('score');
    const highScoreDisplay = document.getElementById('high-score');
    scoreDisplay.textContent = score;
    highScoreDisplay.textContent = highScore;

    function getPosition(i, j) {
      const gap = 10;
      const cellSize = (board
 
.clientWidth - gap * 5) / 4;
      return {
        top: gap + i * (cellSize + gap),
        left: gap + j * (cellSize + gap),
      };
    }

    function saveState() {
      previousState = {
        tiles: JSON.parse(JSON.stringify(tiles)),
        score: score
      };
    }

    function restoreState() {
      if (previousState) {
        tiles = JSON.parse(JSON.stringify(previousState.tiles));
        score = previousState.score;
        updateScore();
        updateUI();
      }
    }

    function setupGrid() {
      board.innerHTML = "";
      tileElements = [];
      tiles = Array(size).fill().map(() => Array(size).fill(0));

      for (let i = 0; i < size * size; i++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        board.appendChild(cell);
      }

      spawnTile();
      spawnTile();
      updateScore();
      updateUI();
    }

    function spawnTile() {
      const empty = [];
      for (let i = 0; i < size; i++)
        for (let j = 0; j < size; j++)
          if (tiles[i][j] === 0) empty.push({ i, j });

      if (empty.length === 0) return;

      const { i, j } = empty[Math.floor(Math.random() * empty.length)];
      tiles[i][j] = Math.random() < 0.9 ? 2 : 4;
    }

    function updateScore() {
      scoreDisplay.textContent = score;
      if (score > highScore) {
        highScore = score;
        localStorage.setItem('highScore', highScore);
        highScoreDisplay.textContent = highScore;
      }
    }

    function updateUI() {
      tileElements.forEach(tile => board.removeChild(tile));
      tileElements = [];

      for (let i = 0; i < size; i++) {
        for (let j = 0; j < size; j++) {
          const val = tiles[i][j];
          if (val !== 0) {
            const div = document.createElement("div");
            const { top, left } = getPosition(i, j);
            div.className = `tile val-${val} new-tile`;
            div.style.top = `${top}px`;
            div.style.left = `${left}px`;
            div.textContent = val;
            board.appendChild(div);
            tileElements.push(div);
          }
        }
      }
    }

    function slide(row) {
      const filtered = row.filter(x => x);
      for (let i = 0; i < filtered.length - 1; i++) {
        if (filtered[i] === filtered[i + 1]) {
          filtered[i] *= 2;
          score += filtered[i];
          filtered[i + 1] = 0;
        }
      }
      return filtered.filter(x => x).concat(Array(size - filtered.filter(x => x).length).fill(0));
    }

    function move(dir) {
      saveState();
      let changed = false;
      let newTiles = JSON.parse(JSON.stringify(tiles));

      function setRow(i, row) {
        for (let j = 0; j < size; j++) {
          if (newTiles[i][j] !== row[j]) changed = true;
          newTiles[i][j] = row[j];
        }
      }

      function setCol(j, col) {
        for (let i = 0; i < size; i++) {
          if (newTiles[i][j] !== col[i]) changed = true;
          newTiles[i][j] = col[i];
        }
      }

      if (dir === "left") {
        for (let i = 0; i < size; i++) setRow(i, slide(newTiles[i]));
      } else if (dir === "right") {
        for (let i = 0; i < size; i++)
          setRow(i, slide(newTiles[i].slice().reverse()).reverse());
      } else if (dir === "up") {
        for (let j = 0; j < size; j++) {
          const col = newTiles.map(row => row[j]);
          setCol(j, slide(col));
        }
      } else if (dir === "down") {
        for (let j = 0; j < size; j++) {
          const col = newTiles.map(row => row[j]);
          setCol(j, slide(col.reverse()).reverse());
        }
      }

      if (changed) {
        tiles = newTiles;
        spawnTile();
        updateScore();
        updateUI();
        if (isGameOver()) setTimeout(() => alert("Game Over!"), 100);
      }
    }

    function isGameOver() {
      for (let i = 0; i < size; i++)
        for (let j = 0; j < size; j++) {
          if (tiles[i][j] === 0) return false;
          if (i < size - 1 && tiles[i][j] === tiles[i + 1][j]) return false;
          if (j < size - 1 && tiles[i][j] === tiles[i][j + 1]) return false;
        }
      return true;
    }

    document.addEventListener("keydown", e => {
      if (e.key === "ArrowLeft") move("left");
      if (e.key === "ArrowRight") move("right");
      if (e.key === "ArrowUp") move("up");
      if (e.key === "ArrowDown") move("down");
    });

    // Mobile swipe support
    let touchStartX = 0, touchStartY = 0;
    board.addEventListener("touchstart", e => {
      touchStartX = e.touches[0].clientX;
      touchStartY = e.touches[0].clientY;
    });
    board.addEventListener("touchend", e => {
      const dx = e.changedTouches[0].clientX - touchStartX;
      const dy = e.changedTouches[0].clientY - touchStartY;
      if (Math.abs(dx) > Math.abs(dy)) {
        if (dx > 30) move("right");
        else if (dx < -30) move("left");
      } else {
        if (dy > 30) move("down");
        else if (dy < -30) move("up");
      }
    });

    // Button events
    document.getElementById("undo-btn").addEventListener("click", restoreState);
    document.getElementById("restart-btn").addEventListener("click", setupGrid);
    document.getElementById("rotate-btn").addEventListener("click", () => {
      rotation = (rotation + 90) % 360;
      board.style.transform = `rotate(${rotation}deg)`;
    });

    setupGrid();
  </script>


        </div>

      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div class="modal" id="settings-modal">
    <div class="modal-content">
      <h2>Change Username</h2>
      <input type="text" id="username-input" placeholder="Enter new name"/>
      <br/>
      <button onclick="updateUsername()">Save</button>
    </div>
  </div>

  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const main = document.getElementById('main');
      sidebar.classList.toggle('collapsed');
      main.classList.toggle('collapsed');
    }

    function showGame(gameId) {
      document.querySelectorAll('.game').forEach(game => {
        game.classList.remove('active');
      });
      document.getElementById(gameId).classList.add('active');
    }

    function toggleSettings() {
      document.getElementById('settings-modal').style.display = 'flex';
    }

    function updateUsername() {
      const name = document.getElementById('username-input').value.trim();
      if (name) {
        document.getElementById('welcome-text').textContent = 'Welcome, ' + name + '!';
        localStorage.setItem('username', name);
      }
      document.getElementById('settings-modal').style.display = 'none';
    }

    // On load
    window.onload = () => {
      const saved = localStorage.getItem('username');
      if (saved) {
        document.getElementById('welcome-text').textContent = 'Welcome, ' + saved + '!';
      }
    };

    // Close modal when clicking outside
    window.addEventListener('click', function(e) {
      const modal = document.getElementById('settings-modal');
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });
  </script>
</body>
</html>
